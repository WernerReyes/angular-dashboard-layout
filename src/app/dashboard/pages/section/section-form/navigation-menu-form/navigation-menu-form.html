<div class="flex flex-col gap-2" [formGroup]="form">
    @let imageType = form.controls['imageType'].value;
    <div class="flex flex-col gap-2">
        <label>Logo de la empresa</label>
        <file-upload currentImageName="currentImage" imageSelector="image" [form]="form" label="URL de la imagen" imageTypeName="imageType" [imageType]="imageType" imageFieldName="imageFile" imageURLName="imageUrl"> </file-upload>
    </div>

    <div class="flex flex-col gap-2 mt-1">
        <label>Menú de navegación principal</label>
    <app-error-boundary [resource]="menuList"
     skeletonHeight="3rem"
    >
        <ng-template #content let-menus>

                <p-treeSelect
                     emptyMessage="No se encontraron menús."
                    [options]="menusListSelect()"
                    formControlName="menusIds"
                    [overlayOptions]="{
                    mode: 'modal'
                    }"
                    class="w-full"
                    placeholder="Selecciona los menús para esta sección"
                    selectionMode="checkbox"
                    [filter]="true"
                    [showClear]="true"
                    [panelStyle]="{ 'max-height': '300px', 'overflow': 'auto' }"
                ></p-treeSelect>
                @if (form.controls['menusIds'].errors) {
                <p-message severity="error" size="small" variant="simple"> {{ FormUtils.getFieldError(form, 'menusIds') }} </p-message>
                }
            </ng-template>
        </app-error-boundary>
    </div>
</div>
