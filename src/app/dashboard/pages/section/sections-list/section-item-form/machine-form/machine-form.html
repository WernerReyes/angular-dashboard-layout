<div class="flex flex-col gap-2" [formGroup]="form">
    @let imageType = form.controls['imageType'].value;
    <div class="flex flex-col gap-2">
        <label>Selecciona una categoría</label>
        <!-- [selectedSectionItem]="selectedSectionItem()" -->
        <app-error-boundary [resource]="machinesList" errorMessage="Ocurrió un error cargando las máquinas." emptyMessage="No hay máquinas disponibles. Por favor, crea una máquina primero.">
            <ng-template #content let-machines>
                <p-select id="machine" class="w-full" [options]="machines" optionLabel="title" optionValue="id" placeholder="Selecciona una máquina"></p-select>
            </ng-template>
        </app-error-boundary>
    </div>

    <common-inputs
        [form]="form"
        [includeFields]="[{
                type: 'title',
                label: 'Título',
                placeholder: 'Título del item',
                isTextarea: false
            },
            {
                type: 'content',
                label: 'Descripción',
                placeholder: 'Descripción del item',
                isTextarea: true
            }]"
    ></common-inputs>
    <div class="flex flex-col gap-2">
        <label>Imagen</label>
        <!-- [selectedSectionItem]="selectedSectionItem()" -->
        <file-upload currentImageName="currentImage" imageSelector="image" [form]="form" label="URL de la imagen" imageTypeName="imageType" [imageType]="imageType" imageFieldName="imageFile" imageURLName="imageUrl"> </file-upload>
    </div>

    <show-link-switch [form]="form"></show-link-switch>
</div>
