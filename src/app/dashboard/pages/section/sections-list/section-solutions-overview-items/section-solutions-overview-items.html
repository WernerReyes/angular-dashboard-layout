<!-- section-solutions-overview-items.html -->
<section class="bg-gradient-to-br from-gray-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-20 transition-all duration-300">
    <div class="container mx-auto px-4">
        <!-- Encabezado -->
        <div class="text-center mb-10 max-w-4xl mx-auto">
            <h2 class="text-4xl md:text-5xl font-bold text-blue-700 dark:text-blue-400 mb-6 transition-colors duration-300">{{ section().title}}</h2>
            <p class="text-lg md:text-xl text-slate-700 dark:text-slate-300 leading-relaxed">{{ section().subtitle }}</p>
        </div>

        <!-- Grid de soluciones -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto">
            @if (section().items && section().items.length > 0) { @for (item of section().items; track item.id) {
            <div class="text-center group">
                <p-card class="solution-card h-full">
                    <ng-template #header>
                        <div class="flex justify-center pt-5">
                            <div class="w-24 h-24 md:w-28 md:h-28 bg-blue-600 dark:bg-blue-500 rounded-full flex items-center justify-center shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-500">
                                <img [src]="item.icon" alt="{{ item.title }} Icon" class="w-12 h-12 md:w-16 md:h-16 object-contain" />
                            </div>
                        </div>
                    </ng-template>

                    <ng-template #title>
                        <div class="flex items-center justify-between w-full">
                            <!-- Elemento vacío para balance -->
                            <div class="w-8"></div>

                            <!-- Título centrado -->
                            {{ item.title }}

                            <!-- Botón al costado -->
                            <div class="flex justify-end">
                                <button pButton type="button" icon="pi pi-ellipsis-v" class="p-button-rounded p-button-text p-button-plain" (click)="menu.toggle($event); this.selectedItem.set(item)"></button>
                                <p-menu #menu [popup]="true" [model]="items"></p-menu>
                            </div>
                        </div>
                    </ng-template>

                    @if (item.description) {

                    <p>{{item.description }}</p>
                    } @else {
                    <empty-field-message className="mx-auto my-4 max-w-lg" textContent="Descripción pendiente"></empty-field-message>
                    }
                </p-card>
            </div>
            } } @else {
            <div class="w-fit mx-auto col-span-full">
                <empty-field-message textContent="No hay soluciones disponibles"></empty-field-message>
            </div>
            }
        </div>

        <!-- Sección de CTA opcional -->
        @if (section().textButton) {
        <div class="text-center mt-16">
            <p-button [label]="section().textButton ?? undefined" icon="pi pi-external-link" class="cta-button" size="large"> </p-button>
        </div>
        }
    </div>

    <!-- Elementos decorativos -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-20 -left-10 w-40 h-40 bg-blue-200/10 dark:bg-blue-600/5 rounded-full blur-3xl"></div>
        <div class="absolute bottom-20 -right-10 w-48 h-48 bg-purple-200/10 dark:bg-purple-600/5 rounded-full blur-3xl"></div>
        <div class="absolute top-1/2 left-1/4 w-32 h-32 bg-indigo-200/10 dark:bg-indigo-600/5 rounded-full blur-3xl"></div>
    </div>
</section>
